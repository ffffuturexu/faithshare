<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		
		<title>信仰分享time</title>
		
		<!-- 新 Bootstrap4 核心 CSS 文件 -->
		<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.1.0/css/bootstrap.min.css">	 
		<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
		<script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>	 
		<!-- popper.min.js 用于弹窗、提示、下拉菜单 -->
		<script src="https://cdn.staticfile.org/popper.js/1.12.5/umd/popper.min.js"></script>	 
		<!-- 最新的 Bootstrap4 核心 JavaScript 文件 -->
		<script src="https://cdn.staticfile.org/twitter-bootstrap/4.1.0/js/bootstrap.min.js"></script>
		
		<!-- Timeline Style -->
		<link rel="stylesheet" href="./css/timeline.min.css">
		<link rel="stylesheet" href="./css/prettify.css">
		
		<!-- Demo style -->
		<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
		<link rel="stylesheet" href="./css/demo.css">
		
		<meta name="description" content="jQuery timeline plugin, easily creates a timeline."/>
		<meta name="keywords" content="timelinejs, timeline, timeline slider, milestone, topic:chronology, jquery timeline plugin"/>
	</head>
	<body>
		<!--<div class="container-fluid">
		<div class="row">-->
			<!--<div class="col-sm-6 col-md-8 col-lg-10 col-xl-12">-->
			<div class="section-list-box">
	            <div class="timeline-container">
					<div class="timeline timeline-1">
						
						<div data-time="6.10">
							<div class="row">
							    <div class="col-sm-2 col-md-4 col-lg-5 col-xl-6">
								    <div class="timeline-visual">
								        <img src="img/faithshare/0610.jpg" alt="">
								    </div>
							    </div>
							    <div class="col-sm-10 col-md-8 col-lg-7 col-xl-6">
								    <div class="timeline-detail">
								        <ul class="timeline-detail-list", id="June10"></ul>
							        </div>
								</div>
						    </div>
						</div>
						
						<div data-time="6.17">
						    <div class="row">
							    <div class="col-sm-2 col-md-4 col-lg-5 col-xl-6">
								    <div class="timeline-visual">
								        <img src="img/faithshare/0617.jpg" alt="">
								    </div>
							    </div>
							    <div class="col-sm-10 col-md-8 col-lg-7 col-xl-6">
								    <div class="timeline-detail">
								        <ul class="timeline-detail-list", id="June17"></ul>
									</div>
								</div>
						    </div>
						</div>
						
	               </div>
	            </div><!-- /.timeline-container -->
	        </div><!-- /.section-list-box -->
	       <!--</div>-->
		<!--</div>
		</div>-->
        
        <!--<script src="./js/jquery.min.js"></script>-->

	    <!-- Demo Page -->
	    <script async defer src="https://buttons.github.io/buttons.js"></script>
		<script src="./js/prettify.js"></script>
		<script src="./js/demo.js"></script>
	
	    <!-- Timeline -->
	    <script src="./js/timeline.min.js"></script>
	    <script>
			$(function(){
				$('.timeline-1').Timeline();
			});
		</script>
		
		<script>
			jQuery(function(){		
				
			$.getJSON("data/raw.json", "", function(data) {
				
				$.each(data, function(i, entry) {
					var html = ''
					$.each(entry, function(i, item) {
		       			html += '<li class="minimize">' + item.name + ": " + item.content + '</li>';
			       	})
			      	$('#'+i).html(html)
				});
				
		      	
		      	var minimized_elements = $('.minimize');
				var maxLines = 1;
				
				minimized_elements.each(function(){    
				    // var textArr = $(this).text().split(/\n/); // Not supported in IE < 9
				    var textArr = $(this).html().replace(/\n?<br>/gi,"<br>").split(/<br>/);
				    var countLines = textArr.length;
				
				    if (countLines > maxLines) {
				        text_less = textArr.slice(0, maxLines).join("<br>");
				        text_more = textArr.slice(maxLines, countLines).join("<br>");
				    }
				    else return;
				
				    $(this).html(
				        text_less + '<div>... </div><a href="#" class="more">More</a>'+
				        '<div style="display:none;">'+ text_more +' <a href="#" class="less">Less</a></div>'
				    );
				}); 
				
				$('a.more', minimized_elements).click(function(event){
				    event.preventDefault();
				    $(this).hide().prev().hide();
				    $(this).next().show();        
				});
				
				$('a.less', minimized_elements).click(function(event){
				    event.preventDefault();
				    $(this).parent().hide().prev().show().prev().show();    
				});
			});		
			});
		</script>
		
	</body>
</html>
